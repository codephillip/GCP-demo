{% extends 'base.html' %}

{% block header %}
    <h1>TODO</h1>
    {{ block.super }}
{% endblock %}

{% block content %}
    <p>
        Simple todo app. Using cloud storage, cloud datastore and appengine
    </p>
    <table class="table">
        <th>Image</th>
        <th>Task</th>
        <th>Done</th>
        <th>Created At</th>
        {% for todo in todos %}
            <tr>
                <td><img src="{{ todo.file_url }}" alt="" height="42" width="42"></td>
                <td>{{ todo.task }}</td>
                <td>{{ todo.done }}</td>
                <td>{{ todo.created_at }}</td>
            </tr>
        {% endfor %}
    </table>

    <form action="{% url 'home' %}" method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="form-group">
            <label for="task">Task:</label>
            <input type="text" name="task" id="task" class="form-control">
        </div>
        <div class="form-group">
            <label for="myfile">File:</label>
            <input type="file" name="myfile" id="myfile" class="button btn-sm btn-default">
        </div>
        <br>
        <button type="submit" class="button btn-sm btn-primary">Submit</button>
    </form>

{% endblock %}